<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.9"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>MXOS: FLASH</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">MXOS v1.0.0</a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">FLASH<div class="ingroups"><a class="el" href="group__hal.html">HAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>FLASH driver APIs.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmxos__logic__partition__t.html">mxos_logic_partition_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">flash logic_partition_t  <a href="structmxos__logic__partition__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab1e58b6e8ff6f3761bdf24c04478c7f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#gab1e58b6e8ff6f3761bdf24c04478c7f6">PAR_OPT_READ_POS</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:gab1e58b6e8ff6f3761bdf24c04478c7f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68ff33d27eb40be97075ac7acc28b1dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga68ff33d27eb40be97075ac7acc28b1dc">PAR_OPT_WRITE_POS</a>&#160;&#160;&#160;(1)</td></tr>
<tr class="separator:ga68ff33d27eb40be97075ac7acc28b1dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b707d2a64f885c6386592c581470077"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga0b707d2a64f885c6386592c581470077">PAR_OPT_READ_MASK</a>&#160;&#160;&#160;(0x1u &lt;&lt; PAR_OPT_READ_POS)</td></tr>
<tr class="separator:ga0b707d2a64f885c6386592c581470077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19bd5124832592851507c6febb93a65d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga19bd5124832592851507c6febb93a65d">PAR_OPT_WRITE_MASK</a>&#160;&#160;&#160;(0x1u &lt;&lt; PAR_OPT_WRITE_POS)</td></tr>
<tr class="separator:ga19bd5124832592851507c6febb93a65d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f5a8817f87909dd93f8b655236bfa97"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga4f5a8817f87909dd93f8b655236bfa97">PAR_OPT_READ_DIS</a>&#160;&#160;&#160;(0x0u &lt;&lt; PAR_OPT_READ_POS)</td></tr>
<tr class="separator:ga4f5a8817f87909dd93f8b655236bfa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad38fd963b47f4417058bde27626cec60"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#gad38fd963b47f4417058bde27626cec60">PAR_OPT_READ_EN</a>&#160;&#160;&#160;(0x1u &lt;&lt; PAR_OPT_READ_POS)</td></tr>
<tr class="separator:gad38fd963b47f4417058bde27626cec60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e3aedc128cf4fc5c1962e9229ef00e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga2e3aedc128cf4fc5c1962e9229ef00e9">PAR_OPT_WRITE_DIS</a>&#160;&#160;&#160;(0x0u &lt;&lt; PAR_OPT_WRITE_POS)</td></tr>
<tr class="separator:ga2e3aedc128cf4fc5c1962e9229ef00e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06797fb3f63772e5b3b7b72edd7ae86b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga06797fb3f63772e5b3b7b72edd7ae86b">PAR_OPT_WRITE_EN</a>&#160;&#160;&#160;(0x1u &lt;&lt; PAR_OPT_WRITE_POS)</td></tr>
<tr class="separator:ga06797fb3f63772e5b3b7b72edd7ae86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga01ae677c436a4449b20dacbd49017938"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmxos__logic__partition__t.html">mxos_logic_partition_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga01ae677c436a4449b20dacbd49017938">mhal_flash_get_info</a> (int par)</td></tr>
<tr class="memdesc:ga01ae677c436a4449b20dacbd49017938"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get flash partition information.  <a href="#ga01ae677c436a4449b20dacbd49017938">More...</a><br /></td></tr>
<tr class="separator:ga01ae677c436a4449b20dacbd49017938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02ef8bf1f4061ba031d86d5b575ff432"><td class="memItemLeft" align="right" valign="top">merr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga02ef8bf1f4061ba031d86d5b575ff432">mhal_flash_erase</a> (int par, uint32_t addr, uint32_t n)</td></tr>
<tr class="memdesc:ga02ef8bf1f4061ba031d86d5b575ff432"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase an area of a flash partition.  <a href="#ga02ef8bf1f4061ba031d86d5b575ff432">More...</a><br /></td></tr>
<tr class="separator:ga02ef8bf1f4061ba031d86d5b575ff432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga895797d927f564569aeeb3db514ffe52"><td class="memItemLeft" align="right" valign="top">merr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga895797d927f564569aeeb3db514ffe52">mhal_flash_write</a> (int par, uint32_t *paddr, uint8_t *buf, uint32_t n)</td></tr>
<tr class="memdesc:ga895797d927f564569aeeb3db514ffe52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to an area of a flash partition.  <a href="#ga895797d927f564569aeeb3db514ffe52">More...</a><br /></td></tr>
<tr class="separator:ga895797d927f564569aeeb3db514ffe52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a7fd861bbbaf3e7a73bf6d9ef0734c6"><td class="memItemLeft" align="right" valign="top">merr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga5a7fd861bbbaf3e7a73bf6d9ef0734c6">mhal_flash_read</a> (int par, uint32_t *paddr, uint8_t *buf, uint32_t n)</td></tr>
<tr class="memdesc:ga5a7fd861bbbaf3e7a73bf6d9ef0734c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from an area of a flash partition.  <a href="#ga5a7fd861bbbaf3e7a73bf6d9ef0734c6">More...</a><br /></td></tr>
<tr class="separator:ga5a7fd861bbbaf3e7a73bf6d9ef0734c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gacb4bf7139d00fd56280dc16ec0c967d4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gacb4bf7139d00fd56280dc16ec0c967d4"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#gacb4bf7139d00fd56280dc16ec0c967d4">flash_name</a> []</td></tr>
<tr class="memdesc:gacb4bf7139d00fd56280dc16ec0c967d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A name string of a Flash drive. <br /></td></tr>
<tr class="separator:gacb4bf7139d00fd56280dc16ec0c967d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>FLASH driver APIs. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga4f5a8817f87909dd93f8b655236bfa97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAR_OPT_READ_DIS&#160;&#160;&#160;(0x0u &lt;&lt; PAR_OPT_READ_POS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>partition read disable </p>

</div>
</div>
<a class="anchor" id="gad38fd963b47f4417058bde27626cec60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAR_OPT_READ_EN&#160;&#160;&#160;(0x1u &lt;&lt; PAR_OPT_READ_POS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>partition read enable </p>

</div>
</div>
<a class="anchor" id="ga0b707d2a64f885c6386592c581470077"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAR_OPT_READ_MASK&#160;&#160;&#160;(0x1u &lt;&lt; PAR_OPT_READ_POS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>partition read mask </p>

</div>
</div>
<a class="anchor" id="gab1e58b6e8ff6f3761bdf24c04478c7f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAR_OPT_READ_POS&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>partition read pos </p>

</div>
</div>
<a class="anchor" id="ga2e3aedc128cf4fc5c1962e9229ef00e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAR_OPT_WRITE_DIS&#160;&#160;&#160;(0x0u &lt;&lt; PAR_OPT_WRITE_POS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>partition write disable </p>

</div>
</div>
<a class="anchor" id="ga06797fb3f63772e5b3b7b72edd7ae86b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAR_OPT_WRITE_EN&#160;&#160;&#160;(0x1u &lt;&lt; PAR_OPT_WRITE_POS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>partition write enable </p>

</div>
</div>
<a class="anchor" id="ga19bd5124832592851507c6febb93a65d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAR_OPT_WRITE_MASK&#160;&#160;&#160;(0x1u &lt;&lt; PAR_OPT_WRITE_POS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>partition write mask </p>

</div>
</div>
<a class="anchor" id="ga68ff33d27eb40be97075ac7acc28b1dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAR_OPT_WRITE_POS&#160;&#160;&#160;(1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>partition write pos </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga02ef8bf1f4061ba031d86d5b575ff432"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">merr_t mhal_flash_erase </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase an area of a flash partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">par</td><td>Partition name </td></tr>
    <tr><td class="paramname">addr</td><td>Start address of the erased flash area </td></tr>
    <tr><td class="paramname">n</td><td>Size of the erased flash area</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">kNoErr</td><td>Success </td></tr>
    <tr><td class="paramname">others</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga01ae677c436a4449b20dacbd49017938"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmxos__logic__partition__t.html">mxos_logic_partition_t</a>* mhal_flash_get_info </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>par</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get flash partition information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">par</td><td>Partition name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Partition structure pointer </dd></dl>

</div>
</div>
<a class="anchor" id="ga5a7fd861bbbaf3e7a73bf6d9ef0734c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">merr_t mhal_flash_read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from an area of a flash partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">par</td><td>Partition name </td></tr>
    <tr><td class="paramname">paddr</td><td>Point to the start address that the data is read, and point to the last unread address after this function is returned, so you can call this function serval times without update this start address. </td></tr>
    <tr><td class="paramname">buf</td><td>Point to the data buffer that stores the data read from flash </td></tr>
    <tr><td class="paramname">n</td><td>The length of the buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">kNoErr</td><td>Success </td></tr>
    <tr><td class="paramname">others</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga895797d927f564569aeeb3db514ffe52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">merr_t mhal_flash_write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to an area of a flash partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">par</td><td>Partition name </td></tr>
    <tr><td class="paramname">paddr</td><td>Point to the start address that the data is written to, and point to the last unwritten address after this function is returned, so you can call this function serval times without update this start address. </td></tr>
    <tr><td class="paramname">buf</td><td>Point to the data buffer that will be written to flash </td></tr>
    <tr><td class="paramname">n</td><td>The length of the buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">kNoErr</td><td>Success </td></tr>
    <tr><td class="paramname">others</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 16 2019 15:15:06 for MXOS by SnowYang with Doxygen 1.8.9
</small></address>
</body>
</html>
